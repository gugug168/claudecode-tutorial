<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第02章：Claude Code 命令详解 - Claude Code 教程</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <div class="app-container">
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="../index.html" style="display: flex; align-items: center; gap: 12px; text-decoration: none;">
                    <div class="logo">C</div>
                    <span class="logo-text">Claude Code 教程</span>
                </a>
            </div>
            <div class="sidebar-search">
                <div class="search-box">
                    <span class="search-icon" aria-hidden="true">
                        <svg class="icon icon-xs"><use href="../images/icons.svg#icon-search"></use></svg>
                    </span>
                    <input type="text" placeholder="搜索章节...">
                </div>
            </div>
            <nav class="sidebar-nav" id="sidebarNav"></nav>
        </aside>

        <main class="main-content">
            <header class="top-nav">
                <div class="top-nav-left">
                    <button class="menu-toggle" id="menuToggle" aria-label="打开目录">
                        <svg class="icon icon-sm" aria-hidden="true"><use href="../images/icons.svg#icon-menu"></use></svg>
                    </button>
                    <nav class="breadcrumb">
                        <a href="../index.html">首页</a>
                        <span class="separator">/</span>
                        <span class="current">第02章</span>
                    </nav>
                </div>
                <div class="top-nav-right">
                    <div class="progress-indicator">
                        <span>学习进度</span>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                        </div>
                        <span class="progress-text" id="progressText">0%</span>
                    </div>
                </div>
            </header>

            <div class="content-wrapper">
                <header class="article-header">
                    <div class="article-breadcrumb">
                        <a href="../index.html">首页</a> / <span>第02章：Claude Code 命令详解</span>
                    </div>
                    <h1 class="article-title">第02章：Claude Code 命令详解</h1>
                    <div class="article-meta">
                        <span class="article-meta-item">
                            <svg class="icon icon-xs" aria-hidden="true"><use href="../images/icons.svg#icon-clock"></use></svg>
                            预计时间：40分钟
                        </span>
                        <span class="article-meta-item">
                            <svg class="icon icon-xs" aria-hidden="true"><use href="../images/icons.svg#icon-signal"></use></svg>
                            难度：简单
                        </span>
                        <span class="article-meta-item">
                            <svg class="icon icon-xs" aria-hidden="true"><use href="../images/icons.svg#icon-tag"></use></svg>
                            类别：必修
                        </span>
                    </div>
                </header>

                <article class="article-content">
                    <!-- 配图：Claude Code CLI命令界面 -->
                    <div class="section-image">
                        <img src="../images/external/img_355a9470404eab38.png" alt="Claude Code CLI命令界面" loading="lazy">
                        <div class="section-image-caption">Claude Code CLI 启动后会扫描代码库并理解项目结构</div>
                    </div>

                    <div class="alert alert-info">
                        <div class="alert-title">📌 章节说明</div>
                        <p><strong>前置知识：</strong>已完成第01章环境安装，能够启动 Claude Code。</p>
                        <p><strong>本章价值：</strong>了解 Claude Code 的各种命令和模式，让你能更好地控制 AI 的行为和权限。</p>
                    </div>

                    <h2 id="intro">背景知识：为什么要了解这些命令？</h2>

                    <div style="background: var(--bg-card); padding: 20px; border-radius: var(--radius-md); border: 1px solid var(--border-color); margin: 20px 0;">
                        <p><strong>不会用命令 = 只能听 Claude 的</strong></p>
                        <p><strong>会用命令 = 你是主导，Claude 是助手</strong></p>
                    </div>

                    <p>比如：</p>
                    <ul>
                        <li><strong>只读模式：</strong>让 Claude 只能看，不能改</li>
                        <li><strong>危险模式：</strong>允许批量修改文件</li>
                        <li><strong>Plan 模式：</strong>先看方案再决定是否执行</li>
                    </ul>

                    <table style="margin: 24px 0;">
                        <thead>
                            <tr>
                                <th>概念</th>
                                <th>说明</th>
                                <th>重要性</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>启动方式</strong></td>
                                <td>如何启动 Claude Code</td>
                                <td>⭐⭐⭐</td>
                            </tr>
                            <tr>
                                <td><strong>工作模式</strong></td>
                                <td>Plan/Edit/Dangerous 三种模式</td>
                                <td>⭐⭐⭐</td>
                            </tr>
                            <tr>
                                <td><strong>权限控制</strong></td>
                                <td>能访问哪些文件</td>
                                <td>⭐⭐⭐</td>
                            </tr>
                        </tbody>
                    </table>

                    <h2 id="startup">一、启动 Claude Code</h2>

                    <h3>基本启动</h3>

                    <div class="code-block-wrapper">
                        <div class="code-header">
                            <span class="code-lang">bash</span>
                            <button class="code-copy">复制代码</button>
                        </div>
                        <pre><code class="language-bash"># 在当前目录启动
claude

# 在指定目录启动
claude /path/to/folder

# Windows 示例
claude E:\我的项目

# Mac/Linux 示例
claude ~/projects/my-project</code></pre>
                    </div>

                    <h3>常用启动参数</h3>

                    <table style="margin: 24px 0;">
                        <thead>
                            <tr>
                                <th>参数</th>
                                <th>作用</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>--help</code></td>
                                <td>查看帮助信息</td>
                            </tr>
                            <tr>
                                <td><code>--version</code></td>
                                <td>查看版本号</td>
                            </tr>
                            <tr>
                                <td><code>--read-only</code></td>
                                <td>只读模式启动</td>
                            </tr>
                            <tr>
                                <td><code>--dangerous</code></td>
                                <td>危险模式启动</td>
                            </tr>
                            <tr>
                                <td><code>--codex</code></td>
                                <td>Codex 模式启动（进阶）</td>
                            </tr>
                        </tbody>
                    </table>

                    <h2 id="modes">二、三种工作模式</h2>

                    <p>Claude Code 有三种工作模式，了解它们的区别非常重要：</p>

                    <h3>2.1 普通模式（默认）</h3>

                    <div class="alert alert-success">
                        <p>这是最常用的模式，<strong>适合日常使用</strong>。</p>
                    </div>

                    <table style="margin: 16px 0;">
                        <tbody>
                            <tr><td>✓</td><td>修改文件前会询问你</td></tr>
                            <tr><td>✓</td><td>不能执行危险操作</td></tr>
                            <tr><td>✓</td><td>只能操作工作区内的文件</td></tr>
                            <tr><td>✗</td><td>不能删除文件</td></tr>
                            <tr><td>✗</td><td>不能访问工作区外的文件</td></tr>
                        </tbody>
                    </table>

                    <p><strong>适用场景：</strong></p>
                    <ul>
                        <li>日常开发工作</li>
                        <li>修改少量文件</li>
                        <li>学习和探索</li>
                    </ul>

                    <h3>2.2 Plan 模式（计划模式）</h3>

                    <div class="code-block-wrapper">
                        <div class="code-header">
                            <span class="code-lang">bash</span>
                            <button class="code-copy">复制代码</button>
                        </div>
                        <pre><code class="language-bash">claude
/plan</code></pre>
                    </div>

                    <table style="margin: 16px 0;">
                        <tbody>
                            <tr><td>✓</td><td>只分析不执行</td></tr>
                            <tr><td>✓</td><td>给出方案让你确认</td></tr>
                            <tr><td>✓</td><td>适合复杂任务</td></tr>
                            <tr><td>✗</td><td>不会直接修改文件</td></tr>
                        </tbody>
                    </table>

                    <p><strong>适用场景：</strong></p>
                    <ul>
                        <li>代码审查</li>
                        <li>重构规划</li>
                        <li>分析项目结构</li>
                    </ul>

                    <h3>2.3 Dangerous 模式（危险模式）</h3>

                    <div class="code-block-wrapper">
                        <div class="code-header">
                            <span class="code-lang">bash</span>
                            <button class="code-copy">复制代码</button>
                        </div>
                        <pre><code class="language-bash">claude --dangerous</code></pre>
                    </div>

                    <table style="margin: 16px 0;">
                        <tbody>
                            <tr><td>✓</td><td>可以删除文件</td></tr>
                            <tr><td>✓</td><td>可以覆盖文件</td></tr>
                            <tr><td>✓</td><td>可以批量修改</td></tr>
                            <tr><td>⚠️</td><td>要小心使用！</td></tr>
                        </tbody>
                    </table>

                    <p><strong>适用场景：</strong></p>
                    <ul>
                        <li>自动化脚本</li>
                        <li>批量重命名文件</li>
                        <li>大规模重构</li>
                    </ul>

                    <div class="alert alert-danger">
                        <div class="alert-title">⚠️ 警告</div>
                        <p>危险模式下，Claude 可以直接删除文件，请务必谨慎！</p>
                    </div>

                    <h2 id="permissions">三、权限控制</h2>

                    <p>权限控制决定了 Claude Code 能访问哪些文件。</p>

                    <h3>3.1 文件夹权限（默认/推荐）</h3>

                    <div class="code-block-wrapper">
                        <div class="code-header">
                            <span class="code-lang">bash</span>
                            <button class="code-copy">复制代码</button>
                        </div>
                        <pre><code class="language-bash">claude ~/my-project</code></pre>
                    </div>

                    <div class="alert alert-success">
                        <p>✅ 能读写 my-project 里的文件</p>
                        <p>❌ 不能访问外面的文件</p>
                        <p><strong>这是最安全的用法！推荐日常使用</strong></p>
                    </div>

                    <h3>3.2 系统级权限（谨慎使用）</h3>

                    <div class="code-block-wrapper">
                        <div class="code-header">
                            <span class="code-lang">bash</span>
                            <button class="code-copy">复制代码</button>
                        </div>
                        <pre><code class="language-bash">claude --allow-system-wide</code></pre>
                    </div>

                    <div class="alert alert-warning">
                        <p>✅ 能访问整个系统的文件</p>
                        <p>⚠️ 仅在需要时使用</p>
                        <p><strong>适用场景：</strong>跨项目操作、系统级文件整理</p>
                    </div>

                    <h3>3.3 只读权限（安全学习）</h3>

                    <div class="code-block-wrapper">
                        <div class="code-header">
                            <span class="code-lang">bash</span>
                            <button class="code-copy">复制代码</button>
                        </div>
                        <pre><code class="language-bash">claude --read-only ~/project</code></pre>
                    </div>

                    <div class="alert alert-info">
                        <p>✅ 只能看文件</p>
                        <p>❌ 不能修改任何文件</p>
                        <p><strong>适用场景：</strong>学习理解代码、代码审查、查看项目结构</p>
                    </div>

                    <h2 id="slash-commands">四、斜杠命令（/）</h2>

                    <p>斜杠命令是 Claude Code 的快捷命令，输入后按回车执行。</p>

                    <h3>4.1 对话管理</h3>

                    <table style="margin: 24px 0;">
                        <thead>
                            <tr>
                                <th>命令</th>
                                <th>功能</th>
                                <th>示例</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>/new</code></td>
                                <td>新建对话</td>
                                <td>开始一个全新的对话</td>
                            </tr>
                            <tr>
                                <td><code>/clear</code></td>
                                <td>清空对话历史</td>
                                <td>清除当前对话的所有记录</td>
                            </tr>
                            <tr>
                                <td><code>/history</code></td>
                                <td>查看历史记录</td>
                                <td>查看之前的对话</td>
                            </tr>
                            <tr>
                                <td><code>/exit</code></td>
                                <td>退出 Claude Code</td>
                                <td>关闭程序</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3>4.2 模式切换</h3>

                    <table style="margin: 24px 0;">
                        <thead>
                            <tr>
                                <th>命令</th>
                                <th>功能</th>
                                <th>说明</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>/plan</code></td>
                                <td>进入 Plan 模式</td>
                                <td>只分析不执行</td>
                            </tr>
                            <tr>
                                <td><code>/edit</code></td>
                                <td>进入编辑模式</td>
                                <td>可以修改文件</td>
                            </tr>
                            <tr>
                                <td><code>/read-only</code></td>
                                <td>切换只读模式</td>
                                <td>不能修改文件</td>
                            </tr>
                            <tr>
                                <td><code>/dangerous</code></td>
                                <td>切换危险模式</td>
                                <td>允许危险操作</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3>4.3 帮助与状态</h3>

                    <table style="margin: 24px 0;">
                        <thead>
                            <tr>
                                <th>命令</th>
                                <th>功能</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>/help</code></td>
                                <td>显示帮助信息</td>
                            </tr>
                            <tr>
                                <td><code>/status</code></td>
                                <td>查看当前状态</td>
                            </tr>
                            <tr>
                                <td><code>/config</code></td>
                                <td>查看配置信息</td>
                            </tr>
                        </tbody>
                    </table>

                    <h2 id="decision-tree">五、权限决策树</h2>

                    <div style="background: var(--bg-card); padding: 24px; border-radius: var(--radius-md); border: 1px solid var(--border-color); margin: 24px 0; font-family: monospace; white-space: pre;">
你要做什么？
│
├─ 只是看看/学习
│  → claude --read-only
│  最安全，完全不会修改文件
│
├─ 修改自己的文件
│  → claude （默认）
│  最常用，安全且有保护
│
├─ 修改很多文件/批量操作
│  → claude --dangerous
│  方便但危险，要有备份
│
└─ 需要操作多个文件夹
   → claude --allow-system-wide
   权限很大，谨慎使用
                    </div>

                    <h2 id="scenarios">六、实用场景</h2>

                    <h3>场景1：安全查看项目</h3>

                    <div class="code-block-wrapper">
                        <div class="code-header">
                            <span class="code-lang">bash</span>
                            <button class="code-copy">复制代码</button>
                        </div>
                        <pre><code class="language-bash">claude --read-only ~/project</code></pre>
                    </div>

                    <div class="alert alert-info">
                        <p><strong>用途：</strong>只是想看看项目，不想改任何东西</p>
                        <p><strong>好处：</strong>完全安全，不会误删文件</p>
                    </div>

                    <h3>场景2：批量修改文件</h3>

                    <div class="code-block-wrapper">
                        <div class="code-header">
                            <span class="code-lang">bash</span>
                            <button class="code-copy">复制代码</button>
                        </div>
                        <pre><code class="language-bash">claude --dangerous ~/project</code></pre>
                    </div>

                    <p>然后告诉 Claude：</p>

                    <div style="background: var(--bg-card); padding: 16px; border-radius: var(--radius-md); border: 1px solid var(--border-color); margin: 16px 0;">
                        <code>把所有 .txt 文件里的 "hello" 改成 "hi"</code>
                    </div>

                    <div class="alert alert-warning">
                        <p><strong>注意：</strong>危险模式下会直接修改，请确保你有备份！</p>
                    </div>

                    <h3>场景3：规划重构</h3>

                    <div class="code-block-wrapper">
                        <div class="code-header">
                            <span class="code-lang">bash</span>
                            <button class="code-copy">复制代码</button>
                        </div>
                        <pre><code class="language-bash">claude
/plan</code></pre>
                    </div>

                    <p>然后输入：</p>

                    <div style="background: var(--bg-card); padding: 16px; border-radius: var(--radius-md); border: 1px solid var(--border-color); margin: 16px 0;">
                        <code>> 帮我规划一下如何重构这个项目</code>
                    </div>

                    <div class="alert alert-info">
                        <p><strong>优点：</strong>Claude 会给出详细方案，让你确认后再执行</p>
                    </div>

                    <h3>场景4：学习别人的代码</h3>

                    <p>当你下载了一个开源项目，想学习它是怎么工作的：</p>

                    <div class="code-block-wrapper">
                        <div class="code-header">
                            <span class="code-lang">bash</span>
                            <button class="code-copy">复制代码</button>
                        </div>
                        <pre><code class="language-bash">claude --read-only ~/downloads/some-project</code></pre>
                    </div>

                    <p>然后可以问 Claude：</p>

                    <div style="background: var(--bg-card); padding: 16px; border-radius: var(--radius-md); border: 1px solid var(--border-color); margin: 16px 0;">
                        <code>> 请帮我理解这个项目：<br>
                        1. 这个项目是做什么的？<br>
                        2. 主要的文件结构是怎样的？<br>
                        3. 我应该从哪个文件开始看起？</code>
                    </div>

                    <h3>场景5：跨文件夹操作</h3>

                    <p>当你需要同时操作多个文件夹时：</p>

                    <div class="code-block-wrapper">
                        <div class="code-header">
                            <span class="code-lang">bash</span>
                            <button class="code-copy">复制代码</button>
                        </div>
                        <pre><code class="language-bash">claude --allow-system-wide</code></pre>
                    </div>

                    <div class="alert alert-warning">
                        <p><strong>注意：</strong>系统级权限要谨慎使用！只在确实需要时才开启。</p>
                    </div>

                    <h3>场景6：中途切换模式</h3>

                    <p>你已经启动了 Claude，但想换模式：</p>

                    <table style="margin: 16px 0;">
                        <thead>
                            <tr>
                                <th>当前状态</th>
                                <th>想切换到</th>
                                <th>命令</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>普通模式</td>
                                <td>只读模式</td>
                                <td><code>/read-only</code></td>
                            </tr>
                            <tr>
                                <td>普通模式</td>
                                <td>危险模式</td>
                                <td><code>/dangerous</code></td>
                            </tr>
                            <tr>
                                <td>只读/危险</td>
                                <td>普通模式</td>
                                <td><code>/edit</code></td>
                            </tr>
                            <tr>
                                <td>任意模式</td>
                                <td>Plan 模式</td>
                                <td><code>/plan</code></td>
                            </tr>
                        </tbody>
                    </table>

                    <h2 id="quick-reference">命令速查表</h2>

                    <table style="margin: 24px 0;">
                        <thead>
                            <tr>
                                <th>操作</th>
                                <th>命令</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>启动（当前目录）</td><td><code>claude</code></td></tr>
                            <tr><td>启动（指定目录）</td><td><code>claude /path/to/dir</code></td></tr>
                            <tr><td>只读模式</td><td><code>claude --read-only</code></td></tr>
                            <tr><td>危险模式</td><td><code>claude --dangerous</code></td></tr>
                            <tr><td>Codex 模式</td><td><code>claude --codex</code></td></tr>
                            <tr><td>新建对话</td><td><code>/new</code></td></tr>
                            <tr><td>Plan 模式</td><td><code>/plan</code></td></tr>
                            <tr><td>清空对话</td><td><code>/clear</code></td></tr>
                            <tr><td>退出</td><td><code>/exit</code></td></tr>
                            <tr><td>查看帮助</td><td><code>/help</code></td></tr>
                        </tbody>
                    </table>

                    <h2 id="faq">常见问题</h2>

                    <div class="alert alert-danger">
                        <div class="alert-title">Q1: 我不知道当前是什么模式？</div>
                        <p>输入 <code>/status</code> 查看当前状态。</p>
                    </div>

                    <div class="section-image">
                        <img src="../images/screenshots/claude_status_modes.svg" alt="Claude Code：/status 查看模式与切换示意" loading="lazy">
                        <div class="section-image-caption">新手最常用：先 /status 看清楚自己在哪个模式（示意图）</div>
                    </div>

                    <div class="alert alert-danger">
                        <div class="alert-title">Q2: Dangerous 模式会删除我的文件吗？</div>
                        <p>会！这就是为什么它叫"危险模式"。只有在以下情况才用：</p>
                        <ul>
                            <li>你有备份</li>
                            <li>你明确知道要做什么</li>
                            <li>需要批量操作</li>
                        </ul>
                    </div>

                    <div class="alert alert-danger">
                        <div class="alert-title">Q3: 只读模式有什么用？</div>
                        <p>当你只是想：</p>
                        <ul>
                            <li>理解一个项目</li>
                            <li>查看代码结构</li>
                            <li>让 AI 解释代码</li>
                        </ul>
                        <p>这时候用只读模式最安全，完全不用担心文件被改。</p>
                    </div>

                    <section class="quiz" id="quiz">
                        <div class="quiz-title">本章自检（3分钟）</div>
                        <div class="quiz-hint">点开问题查看答案，能讲清楚就算掌握。</div>
                        <details>
                            <summary>Plan 模式和危险模式分别适合什么场景？</summary>
                            <div class="quiz-answer"><code>/plan</code> 适合先出方案再确认（复杂任务/分析）；<code>--dangerous</code> 适合批量改动，但风险高，务必先备份或 Git 存档。</div>
                        </details>
                        <details>
                            <summary>怎么知道自己当前处于什么模式？</summary>
                            <div class="quiz-answer">在 Claude Code 里输入 <code>/status</code> 查看当前状态。</div>
                        </details>
                        <details>
                            <summary>新手学习阶段最推荐的权限是什么？</summary>
                            <div class="quiz-answer">优先用 <code>--read-only</code> 或默认文件夹权限（只在自己的项目目录里运行），避免系统级权限。</div>
                        </details>
                        <details>
                            <summary><code>--allow-system-wide</code> 意味着什么？</summary>
                            <div class="quiz-answer">允许访问更大范围的文件（权限很大），仅在确实需要跨目录操作时使用，并保持谨慎。</div>
                        </details>
                    </section>

                    <button class="btn btn-secondary mark-complete-btn" style="margin: 32px 0 24px;">
                        <svg class="icon icon-sm" aria-hidden="true"><use href="../images/icons.svg#icon-circle"></use></svg>
                        标记为已完成（保存进度）
                    </button>

                    <nav class="chapter-nav">
                        <a href="chapter-01.html" class="chapter-nav-card">
                            <svg class="icon" aria-hidden="true"><use href="../images/icons.svg#icon-arrow-left"></use></svg>
                            <div class="content">
                                <div class="label">上一章</div>
                                <div class="title">第01章：环境安装</div>
                            </div>
                        </a>
                        <a href="chapter-03.html" class="chapter-nav-card next">
                            <svg class="icon" aria-hidden="true"><use href="../images/icons.svg#icon-arrow-right"></use></svg>
                            <div class="content">
                                <div class="label">下一章</div>
                                <div class="title">第03章：Git 存档</div>
                            </div>
                        </a>
                    </nav>
                </article>
            </div>

            <footer class="footer">
                <div class="footer-copyright">&copy; 2025 Claude Code 教程网站</div>
            </footer>
        </main>

        <div class="overlay" id="overlay"></div>
    </div>

    <script src="../js/main.js"></script>
</body>
</html>
