# Git å·¥ä½œæµ (Git Workflow)

> **è§„åˆ™ç”¨é€”**ï¼šå®šä¹‰ Git å·¥ä½œæµå’Œæäº¤è§„èŒƒ
>
> **é€‚ç”¨åœºæ™¯**ï¼šæäº¤ä»£ç ã€åˆ›å»º PRã€åŠŸèƒ½å®ç°æ—¶å‚è€ƒ
>
> **æ ¸å¿ƒèƒ½åŠ›**ï¼šæäº¤æ¶ˆæ¯æ ¼å¼ã€PR å·¥ä½œæµã€åŠŸèƒ½å®ç°å·¥ä½œæµ
>
> **é€‚ç”¨èŒƒå›´**ï¼šé€šç”¨è§„åˆ™

---

## æäº¤æ¶ˆæ¯æ ¼å¼ (Commit Message Format)

### ä¸ºä»€ä¹ˆéœ€è¦è§„èŒƒçš„æäº¤æ¶ˆæ¯ï¼Ÿ

æƒ³è±¡æ•´ç†æ–‡ä»¶æŸœï¼š
- **å¥½çš„æ ‡ç­¾**ï¼š"2024å¹´è´¢åŠ¡æŠ¥è¡¨ - ç¬¬ä¸€å­£åº¦"
- **åçš„æ ‡ç­¾**ï¼š"æ–‡ä»¶"ã€"æ›´æ–°"ã€"ä¿®æ”¹"

Git æäº¤ä¹Ÿæ˜¯ä¸€æ ·ï¼š
- å¥½çš„æäº¤æ¶ˆæ¯è®©ä½ å¿«é€Ÿç†è§£å˜æ›´å†…å®¹
- åçš„æäº¤æ¶ˆæ¯è®©ä½ ä¸çŸ¥æ‰€äº‘

### æ ‡å‡†æ ¼å¼

```
<ç±»å‹>: <æè¿°>

<å¯é€‰çš„æ­£æ–‡>
```

#### æäº¤ç±»å‹ (Commit Types)

| ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| **feat** | æ–°åŠŸèƒ½ | `feat: æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½` |
| **fix** | ä¿®å¤ Bug | `fix: ä¿®å¤ç™»å½•æ—¶å¯†ç é”™è¯¯çš„é—®é¢˜` |
| **refactor** | é‡æ„ä»£ç  | `refactor: ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½` |
| **docs** | æ–‡æ¡£æ›´æ–° | `docs: æ›´æ–° API æ–‡æ¡£` |
| **test** | æ·»åŠ æˆ–ä¿®æ”¹æµ‹è¯• | `test: æ·»åŠ ç”¨æˆ·æœåŠ¡çš„å•å…ƒæµ‹è¯•` |
| **chore** | æ„å»º/å·¥å…·é…ç½® | `chore: æ›´æ–°ä¾èµ–åŒ…ç‰ˆæœ¬` |
| **perf** | æ€§èƒ½ä¼˜åŒ– | `perf: ä¼˜åŒ–å›¾ç‰‡åŠ è½½é€Ÿåº¦` |
| **ci** | CI/CD é…ç½® | `ci: æ·»åŠ  GitHub Actions å·¥ä½œæµ` |

### å¥½çš„æäº¤æ¶ˆæ¯ç¤ºä¾‹

```bash
# ç®€å•æäº¤
git commit -m "feat: æ·»åŠ ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½"

# å¸¦æ­£æ–‡çš„æäº¤
git commit -m "fix: ä¿®å¤æ”¯ä»˜æ¥å£è¶…æ—¶é—®é¢˜

- å¢åŠ è¯·æ±‚è¶…æ—¶æ—¶é—´åˆ° 30 ç§’
- æ·»åŠ é‡è¯•æœºåˆ¶
- æ·»åŠ è¶…æ—¶é”™è¯¯æ—¥å¿—"

# å¤æ‚çš„æäº¤
git commit -m "refactor: é‡æ„ç”¨æˆ·è®¤è¯ç³»ç»Ÿ

èƒŒæ™¯ï¼š
æ—§çš„è®¤è¯ç³»ç»Ÿå­˜åœ¨å®‰å…¨éšæ‚£ï¼Œéœ€è¦é‡æ„ä¸ºåŸºäº JWT çš„è®¤è¯ã€‚

å˜æ›´ï¼š
- å°† session è®¤è¯æ”¹ä¸º JWT
- æ·»åŠ  token åˆ·æ–°æœºåˆ¶
- æ›´æ–°ç›¸å…³æ–‡æ¡£

å½±å“ï¼š
- å‰ç«¯éœ€è¦é€‚é…æ–°çš„ç™»å½•æ¥å£
- æ—§ç‰ˆæœ¬å®¢æˆ·ç«¯å°†æ— æ³•ä½¿ç”¨"
```

### åçš„æäº¤æ¶ˆæ¯ç¤ºä¾‹

```bash
# âŒ å¤ªæ¨¡ç³Š
git commit -m "æ›´æ–°ä»£ç "
git commit -m "ä¿®å¤é—®é¢˜"
git commit -m "æäº¤"

# âŒ å¤ªé•¿ï¼ˆåº”è¯¥æ‹†åˆ†æˆå¤šä¸ªæäº¤ï¼‰
git commit -m "æ·»åŠ ç”¨æˆ·ç®¡ç†ã€äº§å“ç®¡ç†ã€è®¢å•ç®¡ç†å’ŒæŠ¥è¡¨åŠŸèƒ½"

# âŒ æ ¼å¼ä¸è§„èŒƒ
git commit -m "fixäº†bug"  # åº”è¯¥ç”¨ä¸­æ–‡å’Œè‹±æ–‡å†’å·
git commit -m "Fixed bug" # åº”è¯¥ç”¨å°å†™ç±»å‹
```

### æäº¤é¢‘ç‡å»ºè®®

| åœºæ™¯ | æäº¤é¢‘ç‡ | ç²’åº¦ |
|------|----------|------|
| **æ—¥å¸¸å¼€å‘** | æ¯å®Œæˆä¸€ä¸ªå°åŠŸèƒ½ | 1-2 å°æ—¶ |
| **Bug ä¿®å¤** | ä¿®å¤å¹¶æµ‹è¯•å | ç«‹å³æäº¤ |
| **é‡æ„** | æ¯ä¸ªé‡æ„æ­¥éª¤ | ä¿æŒå¯å›æ»š |
| **æ–‡æ¡£** | æ¯ä¸ªç« èŠ‚æˆ–æ®µè½ | æ–¹ä¾¿å›æº¯ |

### å½’å±ç­¾åè¯´æ˜

**é‡è¦æç¤º**ï¼šé€šè¿‡ `~/.claude/settings.json` å…¨å±€ç¦ç”¨äº†å½’å±ç­¾åï¼ˆCo-Authored-Byï¼‰ï¼Œå› æ­¤æäº¤æ¶ˆæ¯ä¸éœ€è¦åŒ…å«ç­¾åä¿¡æ¯ã€‚

---

## Pull Request å·¥ä½œæµ

### ä»€ä¹ˆæ˜¯ Pull Requestï¼Ÿ

Pull Requestï¼ˆPRï¼‰å°±åƒä»£ç å®¡æŸ¥ä¼šè®®ï¼š
- ä½ å±•ç¤ºä½ çš„æ”¹åŠ¨
- å›¢é˜Ÿæˆå‘˜å®¡æŸ¥ä»£ç 
- è®¨è®ºå’Œæ”¹è¿›
- æœ€ç»ˆåˆå¹¶åˆ°ä¸»åˆ†æ”¯

### PR åˆ›å»ºæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯                                  â”‚
â”‚     git checkout -b feature/user-auth           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. å¼€å‘å¹¶æäº¤                                    â”‚
â”‚     - ç¼–å†™ä»£ç                                    â”‚
â”‚     - éµå¾ªæäº¤è§„èŒƒ                               â”‚
â”‚     - ä¿æŒæäº¤ç²’åº¦åˆç†                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. æ¨é€åˆ°è¿œç¨‹                                    â”‚
â”‚     git push -u origin feature/user-auth        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. åˆ›å»º PR                                       â”‚
â”‚     - åˆ†æå®Œæ•´æäº¤å†å²                           â”‚
â”‚     - æŸ¥çœ‹æ‰€æœ‰å˜æ›´ï¼ˆgit diffï¼‰                   â”‚
â”‚     - èµ·è‰å…¨é¢çš„ PR æ‘˜è¦                         â”‚
â”‚     - åŒ…å«æµ‹è¯•è®¡åˆ’                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. ä»£ç å®¡æŸ¥                                      â”‚
â”‚     - å›¢é˜Ÿæˆå‘˜å®¡æŸ¥                               â”‚
â”‚     - æå‡ºä¿®æ”¹å»ºè®®                               â”‚
â”‚     - ä¿®æ”¹å¹¶æ›´æ–° PR                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  6. åˆå¹¶åˆ°ä¸»åˆ†æ”¯                                  â”‚
â”‚     - é€šè¿‡æ‰€æœ‰å®¡æŸ¥                               â”‚
â”‚     - åˆå¹¶ PR                                    â”‚
â”‚     - åˆ é™¤åŠŸèƒ½åˆ†æ”¯                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### PR æè¿°æ¨¡æ¿

```markdown
## æ¦‚è¿°
<!-- ä¸€å¥è¯æè¿°è¿™ä¸ª PR åšäº†ä»€ä¹ˆ -->
æ·»åŠ åŸºäº JWT çš„ç”¨æˆ·è®¤è¯ç³»ç»Ÿ

## å˜æ›´å†…å®¹
<!-- åˆ—å‡ºä¸»è¦çš„å˜æ›´ -->
- âœ… æ·»åŠ ç”¨æˆ·ç™»å½•æ¥å£ `POST /api/auth/login`
- âœ… æ·»åŠ ç”¨æˆ·æ³¨å†Œæ¥å£ `POST /api/auth/register`
- âœ… å®ç° JWT token ç”Ÿæˆå’ŒéªŒè¯
- âœ… æ·»åŠ è®¤è¯ä¸­é—´ä»¶
- âœ… æ›´æ–° API æ–‡æ¡£

## æµ‹è¯•è®¡åˆ’
<!-- åˆ—å‡ºæµ‹è¯•é¡¹ -->
- [ ] å•å…ƒæµ‹è¯•é€šè¿‡ï¼ˆè¦†ç›–ç‡ 85%ï¼‰
- [ ] é›†æˆæµ‹è¯•é€šè¿‡
- [ ] æ‰‹åŠ¨æµ‹è¯•ï¼š
  - [ ] æ­£å¸¸ç™»å½•
  - [ ] é”™è¯¯å¯†ç 
  - [ ] Token è¿‡æœŸå¤„ç†
  - [ ] å¹¶å‘ç™»å½•

## æˆªå›¾/æ¼”ç¤º
<!-- å¦‚æœæœ‰ UI å˜æ›´ï¼Œæ·»åŠ æˆªå›¾ -->
![ç™»å½•ç•Œé¢](screenshots/login.png)

## ç ´åæ€§å˜æ›´
<!-- å¦‚æœæœ‰ç ´åæ€§å˜æ›´ï¼Œè¯´æ˜å¦‚ä½•è¿ç§» -->
æ— ç ´åæ€§å˜æ›´ã€‚æ—§ç‰ˆæœ¬å®¢æˆ·ç«¯éœ€è¦æ›´æ–°åˆ° v2.0ã€‚

## æ£€æŸ¥æ¸…å•
- [ ] ä»£ç éµå¾ªé¡¹ç›®è§„èŒƒ
- [ ] æµ‹è¯•å·²é€šè¿‡
- [ ] æ–‡æ¡£å·²æ›´æ–°
- [ ] æ— åˆå¹¶å†²çª

## ç›¸å…³ Issue
<!-- å…³è”çš„ Issue -->
Closes #123
Related to #456
```

### PR æœ€ä½³å®è·µ

#### 1. åˆ†æå®Œæ•´æäº¤å†å²

```bash
# æŸ¥çœ‹åˆ†æ”¯ä¸Šçš„æ‰€æœ‰æäº¤
git log main..feature-branch

# æŸ¥çœ‹æ‰€æœ‰å˜æ›´ï¼ˆä¸åªæ˜¯æœ€æ–°æäº¤ï¼‰
git diff main...feature-branch

# æŸ¥çœ‹æäº¤ç»Ÿè®¡
git diff --stat main...feature-branch
```

#### 2. PR æ ‡é¢˜æ ¼å¼

```bash
# å¥½çš„ PR æ ‡é¢˜
feat: æ·»åŠ ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
fix: ä¿®å¤æ”¯ä»˜æ¥å£è¶…æ—¶é—®é¢˜
docs: æ›´æ–° API ä½¿ç”¨æ–‡æ¡£

# åçš„ PR æ ‡é¢˜
æ›´æ–°ä»£ç 
ä¿®å¤é—®é¢˜
å®ŒæˆåŠŸèƒ½
```

#### 3. ä¿æŒ PR å°è€Œä¸“æ³¨

| PR å¤§å° | æ¨èåšæ³• | å®¡æŸ¥æ—¶é—´ |
|---------|----------|----------|
| **å°** (< 200 è¡Œ) | âœ… ç†æƒ³ | å¿«é€Ÿå®¡æŸ¥ |
| **ä¸­** (200-500 è¡Œ) | âœ… å¯æ¥å— | é€‚åº¦å®¡æŸ¥ |
| **å¤§** (500-1000 è¡Œ) | âš ï¸ è€ƒè™‘æ‹†åˆ† | è¯¦ç»†å®¡æŸ¥ |
| **å·¨å¤§** (> 1000 è¡Œ) | âŒ å¿…é¡»æ‹†åˆ† | éš¾ä»¥å®¡æŸ¥ |

#### 4. ä½¿ç”¨ -u æ ‡å¿—æ¨é€

```bash
# é¦–æ¬¡æ¨é€æ–°åˆ†æ”¯æ—¶ï¼Œä½¿ç”¨ -u è®¾ç½®ä¸Šæ¸¸
git push -u origin feature/user-auth

# ä¹‹åå¯ä»¥ç®€åŒ–å‘½ä»¤
git push  # è‡ªåŠ¨æ¨é€åˆ°æ­£ç¡®çš„åˆ†æ”¯
```

---

## åŠŸèƒ½å®ç°å·¥ä½œæµ

### å®Œæ•´çš„åŠŸèƒ½å¼€å‘æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é˜¶æ®µ 1: è§„åˆ’ (Plan First)                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                        â”‚
â”‚  ä½¿ç”¨ planner ä»£ç†åˆ›å»ºå®ç°è®¡åˆ’                    â”‚
â”‚  - è¯†åˆ«éœ€æ±‚                                      â”‚
â”‚  - åˆ†æä¾èµ–                                      â”‚
â”‚  - è¯„ä¼°é£é™©                                      â”‚
â”‚  - åˆ†è§£ä¸ºé˜¶æ®µ                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é˜¶æ®µ 2: TDD å¼€å‘ (TDD Approach)                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                        â”‚
â”‚  ä½¿ç”¨ tdd-guide ä»£ç†                             â”‚
â”‚  1. RED - ç¼–å†™æµ‹è¯•                                â”‚
â”‚  2. GREEN - å®ç°åŠŸèƒ½                             â”‚
â”‚  3. IMPROVE - é‡æ„ä¼˜åŒ–                           â”‚
â”‚  4. éªŒè¯è¦†ç›–ç‡ >= 80%                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é˜¶æ®µ 3: ä»£ç å®¡æŸ¥ (Code Review)                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                        â”‚
â”‚  ä½¿ç”¨ code-reviewer ä»£ç†                         â”‚
â”‚  - ç«‹å³å®¡æŸ¥åˆšå†™çš„ä»£ç                              â”‚
â”‚  - ä¿®å¤ CRITICAL é—®é¢˜                            â”‚
â”‚  - ä¿®å¤ HIGH é—®é¢˜                                â”‚
â”‚  - å°½å¯èƒ½ä¿®å¤ MEDIUM é—®é¢˜                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é˜¶æ®µ 4: æäº¤å’Œæ¨é€ (Commit & Push)              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                        â”‚
â”‚  - è¯¦ç»†çš„æäº¤æ¶ˆæ¯                                 â”‚
â”‚  - éµå¾ªçº¦å®šå¼æäº¤æ ¼å¼                             â”‚
â”‚  - æ¨é€åˆ°è¿œç¨‹ä»“åº“                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é˜¶æ®µ 5: åˆ›å»º PR (Pull Request)                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                        â”‚
â”‚  - åˆ†æå®Œæ•´æäº¤å†å²                               â”‚
â”‚  - ç¼–å†™å…¨é¢çš„ PR æè¿°                             â”‚
â”‚  - åŒ…å«æµ‹è¯•è®¡åˆ’                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è¯¦ç»†æ­¥éª¤è¯´æ˜

#### é˜¶æ®µ 1: è§„åˆ’

```bash
# ä½¿ç”¨ planner ä»£ç†
/planner "æˆ‘éœ€è¦å®ç°ç”¨æˆ·è®¤è¯åŠŸèƒ½ï¼ŒåŒ…æ‹¬ç™»å½•ã€æ³¨å†Œå’Œ token ç®¡ç†"

# Planner ä¼šå¸®ä½ ï¼š
# 1. ç†è§£éœ€æ±‚
# 2. è¯†åˆ«ä¾èµ–
# 3. è¯„ä¼°é£é™©
# 4. åˆ¶å®šå®æ–½è®¡åˆ’
```

**è§„åˆ’ç¤ºä¾‹è¾“å‡º**ï¼š

```markdown
## åŠŸèƒ½å®ç°è®¡åˆ’ï¼šç”¨æˆ·è®¤è¯ç³»ç»Ÿ

### éœ€æ±‚åˆ†æ
- ç”¨æˆ·å¯ä»¥æ³¨å†Œè´¦å·
- ç”¨æˆ·å¯ä»¥ä½¿ç”¨é‚®ç®±å’Œå¯†ç ç™»å½•
- ç™»å½•æˆåŠŸåè¿”å› JWT token
- Token æœ‰æ•ˆæœŸä¸º 7 å¤©

### æŠ€æœ¯æ ˆ
- åç«¯ï¼šNode.js + Express
- è®¤è¯ï¼šJWT
- æ•°æ®åº“ï¼šPostgreSQL
- å¯†ç åŠ å¯†ï¼šbcrypt

### å®æ–½é˜¶æ®µ
**é˜¶æ®µ 1: æ•°æ®æ¨¡å‹**
- åˆ›å»º User è¡¨
- å®šä¹‰ç”¨æˆ·å®ä½“
- åˆ›å»ºä»“åº“å±‚

**é˜¶æ®µ 2: è®¤è¯é€»è¾‘**
- å®ç°å¯†ç åŠ å¯†
- å®ç° JWT ç”Ÿæˆå’ŒéªŒè¯
- åˆ›å»ºè®¤è¯æœåŠ¡

**é˜¶æ®µ 3: API ç«¯ç‚¹**
- POST /api/auth/register
- POST /api/auth/login
- GET /api/auth/me

**é˜¶æ®µ 4: æµ‹è¯•å’Œæ–‡æ¡£**
- å•å…ƒæµ‹è¯•
- é›†æˆæµ‹è¯•
- API æ–‡æ¡£

### é£é™©è¯„ä¼°
- ğŸŸ¡ ä¸­ç­‰ï¼šå¯†ç å­˜å‚¨å®‰å…¨
- ğŸŸ¢ ä½ï¼šJWT æ€§èƒ½å½±å“
- ğŸŸ¡ ä¸­ç­‰ï¼šToken åˆ·æ–°æœºåˆ¶

### ä¾èµ–
- æ•°æ®åº“è®¾è®¡
- å¯†é’¥ç®¡ç†
```

#### é˜¶æ®µ 2: TDD å¼€å‘

```bash
# ä½¿ç”¨ tdd-guide ä»£ç†
/tdd-guide "å®ç°ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½"

# TDD Guide ä¼šå¼•å¯¼ä½ ï¼š
# 1. å…ˆå†™æµ‹è¯•ï¼ˆREDï¼‰
# 2. å®ç°åŠŸèƒ½è®©æµ‹è¯•é€šè¿‡ï¼ˆGREENï¼‰
# 3. é‡æ„ä»£ç ï¼ˆIMPROVEï¼‰
# 4. éªŒè¯è¦†ç›–ç‡
```

**TDD æµç¨‹ç¤ºä¾‹**ï¼š

```typescript
// æ­¥éª¤ 1: RED - ç¼–å†™æµ‹è¯•
describe('AuthService.register', () => {
  it('should create a new user', async () => {
    const userData = {
      email: 'test@example.com',
      password: 'SecurePass123'
    };

    const user = await authService.register(userData);

    expect(user).toBeDefined();
    expect(user.email).toBe('test@example.com');
    expect(user.password).toBeUndefined(); // å¯†ç ä¸åº”è¯¥è¿”å›
  });

  it('should throw error if email already exists', async () => {
    // æµ‹è¯•é‚®ç®±å·²å­˜åœ¨çš„æƒ…å†µ
  });
});

// æ­¥éª¤ 2: GREEN - å®ç°åŠŸèƒ½
async register(userData: RegisterDto): Promise<User> {
  // æ£€æŸ¥é‚®ç®±æ˜¯å¦å·²å­˜åœ¨
  const existing = await this.userRepo.findByEmail(userData.email);
  if (existing) {
    throw new ConflictError('é‚®ç®±å·²è¢«æ³¨å†Œ');
  }

  // åŠ å¯†å¯†ç 
  const hashedPassword = await bcrypt.hash(userData.password, 10);

  // åˆ›å»ºç”¨æˆ·
  const user = await this.userRepo.create({
    email: userData.email,
    password: hashedPassword
  });

  return user;
}

// æ­¥éª¤ 3: IMPROVE - é‡æ„
// æå–å¸¸é‡ã€ä¼˜åŒ–ç»“æ„ã€æ”¹è¿›å‘½å
```

#### é˜¶æ®µ 3: ä»£ç å®¡æŸ¥

```bash
# ä½¿ç”¨ code-reviewer ä»£ç†
/code-reviewer "å®¡æŸ¥ç”¨æˆ·è®¤è¯æ¨¡å—çš„ä»£ç "

# Code-reviewer ä¼šæ£€æŸ¥ï¼š
# - ä»£ç è´¨é‡
# - å®‰å…¨é—®é¢˜
# - æ€§èƒ½é—®é¢˜
# - æœ€ä½³å®è·µ
```

**å®¡æŸ¥ç»“æœç¤ºä¾‹**ï¼š

```markdown
## ä»£ç å®¡æŸ¥æŠ¥å‘Š

### CRITICAL é—®é¢˜ï¼ˆå¿…é¡»ä¿®å¤ï¼‰
1. ğŸš¨ **å¯†ç é•¿åº¦éªŒè¯ç¼ºå¤±**
   - ä½ç½®ï¼š`src/auth/auth.service.ts:45`
   - å»ºè®®ï¼šæ·»åŠ æœ€å°é•¿åº¦éªŒè¯ï¼ˆè‡³å°‘ 8 ä¸ªå­—ç¬¦ï¼‰
   - ç¤ºä¾‹ï¼š
     ```typescript
     if (userData.password.length < 8) {
       throw new ValidationError('å¯†ç è‡³å°‘ 8 ä¸ªå­—ç¬¦');
     }
     ```

### HIGH é—®é¢˜ï¼ˆå¼ºçƒˆå»ºè®®ä¿®å¤ï¼‰
1. âš ï¸ **Token å­˜å‚¨åœ¨ localStorage**
   - ä½ç½®ï¼š`src/frontend/auth.ts`
   - é£é™©ï¼šXSS æ”»å‡»å¯èƒ½çªƒå– token
   - å»ºè®®ï¼šä½¿ç”¨ httpOnly cookie

### MEDIUM é—®é¢˜ï¼ˆå»ºè®®ä¿®å¤ï¼‰
1. ğŸ“ **ç¼ºå°‘ JSDoc æ³¨é‡Š**
   - ä½ç½®ï¼šå¤šä¸ªæ–‡ä»¶
   - å»ºè®®ï¼šä¸ºå…¬å…±æ–¹æ³•æ·»åŠ æ³¨é‡Š
```

#### é˜¶æ®µ 4: æäº¤å’Œæ¨é€

```bash
# æŸ¥çœ‹å˜æ›´
git status
git diff

# æ·»åŠ æ–‡ä»¶
git add src/auth/auth.service.ts
git add tests/auth.service.test.ts

# æäº¤ï¼ˆéµå¾ªè§„èŒƒï¼‰
git commit -m "feat: å®ç°ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½

- æ·»åŠ é‚®ç®±å”¯ä¸€æ€§éªŒè¯
- ä½¿ç”¨ bcrypt åŠ å¯†å¯†ç 
- æ·»åŠ è¾“å…¥éªŒè¯
- å•å…ƒæµ‹è¯•è¦†ç›–ç‡ 90%"

# æ¨é€åˆ°è¿œç¨‹
git push -u origin feature/user-auth
```

#### é˜¶æ®µ 5: åˆ›å»º PR

```bash
# ä½¿ç”¨ GitHub CLI åˆ›å»º PR
gh pr create \
  --title "feat: å®ç°ç”¨æˆ·è®¤è¯ç³»ç»Ÿ" \
  --body "åŒ…å«å®Œæ•´çš„ç™»å½•å’Œæ³¨å†ŒåŠŸèƒ½..." \
  --base main \
  --head feature/user-auth

# æˆ–åœ¨ GitHub ç½‘é¡µä¸Šåˆ›å»º
# 1. è®¿é—®ä»“åº“é¡µé¢
# 2. ç‚¹å‡» "Pull requests"
# 3. ç‚¹å‡» "New pull request"
# 4. é€‰æ‹©åˆ†æ”¯
# 5. å¡«å†™æè¿°
# 6. ç‚¹å‡» "Create pull request"
```

---

## Git æœ€ä½³å®è·µ

### 1. åˆ†æ”¯ç­–ç•¥

```
main (ç”Ÿäº§ç¯å¢ƒ)
  â”‚
  â”œâ”€â”€ develop (å¼€å‘ç¯å¢ƒ)
  â”‚   â”‚
  â”‚   â”œâ”€â”€ feature/user-auth (åŠŸèƒ½åˆ†æ”¯)
  â”‚   â”œâ”€â”€ feature/payment (åŠŸèƒ½åˆ†æ”¯)
  â”‚   â””â”€â”€ feature/report (åŠŸèƒ½åˆ†æ”¯)
  â”‚
  â”œâ”€â”€ hotfix/login-bug (ç´§æ€¥ä¿®å¤)
  â””â”€â”€ release/v1.0.0 (å‘å¸ƒå‡†å¤‡)
```

### 2. æäº¤å‰æ£€æŸ¥æ¸…å•

```
â–¡ ä»£ç æ ¼å¼åŒ–
â–¡ ä»£ç é€šè¿‡ lint æ£€æŸ¥
â–¡ æ‰€æœ‰æµ‹è¯•é€šè¿‡
â–¡ æ›´æ–°ç›¸å…³æ–‡æ¡£
â–¡ æäº¤æ¶ˆæ¯éµå¾ªè§„èŒƒ
â–¡ æ— æ•æ„Ÿä¿¡æ¯æ³„éœ²
â–¡ åˆ†æ”¯åç§°è§„èŒƒ
```

### 3. å¸¸ç”¨ Git å‘½ä»¤

| å‘½ä»¤ | ç”¨é€” | ç¤ºä¾‹ |
|------|------|------|
| `git checkout -b <branch>` | åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯ | `git checkout -b feature/login` |
| `git add <file>` | æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº | `git add src/auth.service.ts` |
| `git commit -m "message"` | æäº¤å˜æ›´ | `git commit -m "feat: æ·»åŠ ç™»å½•"` |
| `git push -u origin <branch>` | æ¨é€æ–°åˆ†æ”¯ | `git push -u origin feature/login` |
| `git merge <branch>` | åˆå¹¶åˆ†æ”¯ | `git merge feature/login` |
| `git rebase <branch>` | å˜åŸºåˆ†æ”¯ | `git rebase main` |
| `git stash` | æš‚å­˜å½“å‰å˜æ›´ | `git stash` |
| `git log --oneline` | æŸ¥çœ‹æäº¤å†å² | `git log --oneline` |
| `git diff main...HEAD` | æŸ¥çœ‹æ‰€æœ‰å˜æ›´ | `git diff main...HEAD` |

---

## å¸¸è§é—®é¢˜ (FAQ)

### Q1: ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ mergeï¼Œä»€ä¹ˆæ—¶å€™ä½¿ç”¨ rebaseï¼Ÿ

**ç­”**ï¼š

| æ“ä½œ | é€‚ç”¨åœºæ™¯ | ä¼˜ç‚¹ | ç¼ºç‚¹ |
|------|----------|------|------|
| **merge** | ä¿ç•™å®Œæ•´å†å² | æ¸…æ™°çœ‹åˆ°åˆ†æ”¯åˆå¹¶ | å†å²å¯èƒ½å¤æ‚ |
| **rebase** | æ¸…ç†å†å² | çº¿æ€§å†å²ï¼Œæ¸…æ™° | æ”¹å†™å†å²ï¼Œæœ‰é£é™© |

**å»ºè®®**ï¼š
- åŠŸèƒ½åˆ†æ”¯åˆå¹¶åˆ° main â†’ **merge**
- åŒæ­¥ä¸Šæ¸¸å˜æ›´ â†’ **rebase**
- ä¸è¦ rebase å·²æ¨é€çš„å…¬å…±åˆ†æ”¯

### Q2: å¦‚ä½•å¤„ç† merge conflictï¼Ÿ

**ç­”**ï¼š

```bash
# 1. æ›´æ–°æœ¬åœ° main åˆ†æ”¯
git checkout main
git pull origin main

# 2. åˆ‡æ¢å›åŠŸèƒ½åˆ†æ”¯å¹¶ rebase
git checkout feature/user-auth
git rebase main

# 3. å¦‚æœæœ‰å†²çªï¼Œè§£å†³å†²çª
# æ‰“å¼€å†²çªæ–‡ä»¶ï¼ŒæŸ¥æ‰¾ <<<<<<< æ ‡è®°

# 4. æ ‡è®°å†²çªå·²è§£å†³
git add <conflicted-file>
git rebase --continue

# 5. å¼ºåˆ¶æ¨é€ï¼ˆå› ä¸º rebase æ”¹å†™äº†å†å²ï¼‰
git push --force-with-lease
```

### Q3: PR å¤ªå¤§æ€ä¹ˆåŠï¼Ÿ

**ç­”**ï¼šæ‹†åˆ† PRï¼

```bash
# æŒ‰åŠŸèƒ½æ‹†åˆ†
feature/user-auth-login
feature/user-auth-register
feature/user-auth-token

# æŒ‰å±‚æ¬¡æ‹†åˆ†
feature/user-auth-model
feature/user-auth-service
feature/user-auth-api

# æŒ‰ä¾èµ–æ‹†åˆ†
feature/user-authåŸºç¡€åŠŸèƒ½
feature/user-authé«˜çº§åŠŸèƒ½
```

### Q4: å¦‚ä½•ç¼–å†™å¥½çš„æäº¤æ¶ˆæ¯ï¼Ÿ

**ç­”**ï¼šéµå¾ª"åšä»€ä¹ˆ + ä¸ºä»€ä¹ˆ"åŸåˆ™

```bash
# å¥½çš„æäº¤æ¶ˆæ¯
"fix: ä¿®å¤ç™»å½•æ—¶ token è¿‡æœŸæœªæ­£ç¡®å¤„ç†çš„é—®é¢˜"

# åçš„æäº¤æ¶ˆæ¯
"ä¿®å¤bug"
"æ›´æ–°"
"æäº¤"

# æç¤ºï¼šå¦‚æœæ˜¯ PRï¼Œå¯ä»¥åœ¨ PR æè¿°ä¸­è¯¦ç»†è¯´æ˜
# æäº¤æ¶ˆæ¯ä¿æŒç®€æ´æ˜äº†
```

### Q5: ä»€ä¹ˆæ—¶å€™åº”è¯¥åˆ›å»ºåˆ†æ”¯ï¼Ÿ

**ç­”**ï¼š

| åœºæ™¯ | æ˜¯å¦åˆ›å»ºåˆ†æ”¯ | åˆ†æ”¯ç±»å‹ |
|------|-------------|----------|
| ä¿®å¤å° bugï¼ˆ< 10 è¡Œï¼‰ | å¯é€‰ | hotfix/xxx |
| æ–°åŠŸèƒ½å¼€å‘ | âœ… æ˜¯ | feature/xxx |
| é‡æ„ | âœ… æ˜¯ | refactor/xxx |
| å®éªŒæ€§åŠŸèƒ½ | âœ… æ˜¯ | experiment/xxx |
| æ–‡æ¡£æ›´æ–° | å¯é€‰ | docs/xxx |

---

## æ€»ç»“

### Git å·¥ä½œæµé€ŸæŸ¥è¡¨

| é˜¶æ®µ | å…³é”®å‘½ä»¤ | è®°å¿†å£è¯€ |
|------|----------|----------|
| **è§„åˆ’** | `/planner` | å…ˆè§„åˆ’åç¼–ç  |
| **å¼€å‘** | `/tdd-guide` | æµ‹è¯•å…ˆè¡Œçº¢ç»¿ç¯ |
| **å®¡æŸ¥** | `/code-reviewer` | ä»£ç è´¨é‡ä¸å¦¥å |
| **æäº¤** | `git commit -m "type: desc"` | æäº¤æ¶ˆæ¯è¦è§„èŒƒ |
| **æ¨é€** | `git push -u origin branch` | æ–°åˆ†æ”¯è¦åŠ  -u |
| **PR** | `gh pr create` | å…¨é¢æè¿°æµ‹è¯•å…¨ |

### æäº¤ç±»å‹é€Ÿè®°

```
feat â†’ æ–°åŠŸèƒ½
fix â†’ ä¿® bug
refactor â†’ é‡æ„
docs â†’ æ–‡æ¡£
test â†’ æµ‹è¯•
chore â†’ é…ç½®
perf â†’ æ€§èƒ½
ci â†’ æŒç»­é›†æˆ
```

### æœ€ä½³å®è·µæ€»ç»“

```markdown
1. å°æ­¥æäº¤ï¼šæ¯ä¸ªåŠŸèƒ½ç‹¬ç«‹æäº¤
2. æ¸…æ™°æ¶ˆæ¯ï¼šè®©åˆ«äººçœ‹æ‡‚ä½ åšäº†ä»€ä¹ˆ
3. å…ˆæµ‹åç ï¼šTDD è®©ä»£ç æ›´å¥å£®
4. åŠæ—¶å®¡æŸ¥ï¼šåˆšå†™å®Œå°±å®¡æŸ¥ï¼Œä¸æ‹–å»¶
5. PR å°è€Œç¾ï¼šå° PR å®¡æŸ¥å¿«ï¼Œåˆå¹¶å®¹æ˜“
```

éµå¾ªè¿™äº›å·¥ä½œæµï¼Œä½ çš„å›¢é˜Ÿåä½œå°†æ›´é«˜æ•ˆã€æ›´æ„‰å¿«ï¼
